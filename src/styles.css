@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, body, #root {
    @apply h-full;
  }

  body {
    @apply m-0 bg-neutral-1 font-sans text-neutral-11;
  }

  * {
    box-sizing: border-box;
  }
}

@layer components {
  /* Layout Components */
  .topbar {
    @apply fixed left-3 right-3 top-3 z-40 flex h-14 items-center gap-3 rounded-td-lg bg-gradient-to-r from-td-blue-600 to-td-blue-700 px-4 text-white shadow-td-lg;
  }

  .brandTitle {
    @apply text-lg font-bold;
  }

  .layout {
    @apply flex gap-3 pt-20 h-[calc(100vh-5rem)];
  }

  .left {
    @apply w-[300px] rounded-td-lg bg-white p-4 shadow-td;
  }

  .center {
    @apply flex flex-1 flex-col items-center justify-start p-3 min-w-0;
  }

  .right {
    @apply w-[480px] min-w-[360px] overflow-auto rounded-td-lg bg-white p-4 shadow-td;
  }

  /* Form Components */
  .field {
    @apply mb-3;
  }

  .field label {
    @apply mb-1.5 block text-sm font-medium text-neutral-10;
  }

  .field input[type='text'],
  .field input[type='number'],
  .field input[type='date'],
  .field input[type='time'],
  .field input[type='datetime-local'],
  .field textarea,
  .field select {
    @apply w-full rounded-td border border-neutral-4 bg-white px-3 py-2 text-sm text-neutral-11 transition-colors placeholder:text-neutral-7 hover:border-neutral-5 focus:border-td-blue-600 focus:outline-none focus:ring-2 focus:ring-td-blue-600/20;
  }

  .field input[type='date'],
  .field input[type='time'],
  .field input[type='datetime-local'] {
    @apply w-auto;
  }

  /* Button Components */
  .btn {
    @apply inline-flex cursor-pointer items-center justify-center rounded-td-lg border-0 px-4 py-2 text-sm font-semibold transition-all hover:shadow-td-md active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn:not(.secondary):not(.ghost) {
    @apply bg-td-blue-600 text-white hover:bg-td-blue-700;
  }

  .btn.secondary {
    @apply bg-neutral-6 text-white hover:bg-neutral-7;
  }

  .btn.ghost {
    @apply border border-neutral-4 bg-transparent text-td-blue-600 hover:bg-neutral-1;
  }

  /* Canvas Components */
  .canvasWrap {
    @apply rounded-td-lg bg-white p-3 shadow-td-md;
  }

  .canvas {
    @apply relative touch-none select-none bg-neutral-1;
  }

  .canvas img {
    @apply block h-auto max-w-full;
  }

  .areaRect {
    @apply absolute border-2 border-dashed border-td-blue-600 bg-td-blue-600/10 shadow-td;
  }

  .areaRect.selected {
    @apply border-solid bg-td-blue-600/20;
  }

  .areaRect .handle {
    @apply absolute h-3 w-3 rounded-sm border-2 border-td-blue-700 bg-white shadow-td-sm;
  }

  .areaRect .handle.nw { @apply -left-1.5 -top-1.5 cursor-nwse-resize; }
  .areaRect .handle.ne { @apply -right-1.5 -top-1.5 cursor-nesw-resize; }
  .areaRect .handle.sw { @apply -bottom-1.5 -left-1.5 cursor-nesw-resize; }
  .areaRect .handle.se { @apply -bottom-1.5 -right-1.5 cursor-nwse-resize; }
  .areaRect .handle.n { @apply -top-1.5 left-1/2 -translate-x-1/2 cursor-ns-resize; }
  .areaRect .handle.s { @apply -bottom-1.5 left-1/2 -translate-x-1/2 cursor-ns-resize; }
  .areaRect .handle.w { @apply -left-1.5 top-1/2 -translate-y-1/2 cursor-ew-resize; }
  .areaRect .handle.e { @apply -right-1.5 top-1/2 -translate-y-1/2 cursor-ew-resize; }

  /* Areas List */
  .areasList {
    @apply mt-3 space-y-3;
  }

  .areasList .item {
    @apply flex flex-col gap-2 rounded-td-lg border border-neutral-3 bg-white p-3 shadow-td-sm transition-shadow hover:shadow-td;
  }

  .areasList .submenu {
    @apply rounded-td border border-neutral-3 bg-gradient-to-b from-white to-neutral-1 p-3;
  }

  /* Utility Classes */
  .small {
    @apply text-xs text-neutral-8;
  }

  .hint {
    @apply text-xs text-error;
  }

  /* Phone Preview */
  .phoneFrame {
    @apply flex w-[460px] items-center justify-center rounded-[26px] bg-gradient-to-b from-[#0b1220] to-[#08101a] p-3.5 shadow-td-xl;
  }

  .phoneScreen {
    @apply block w-full overflow-hidden rounded-2xl bg-white;
  }

  .phoneStatus {
    @apply h-7 bg-gradient-to-r from-[#eef2ff] to-white opacity-[0.06];
  }

  .richPreview {
    @apply flex justify-center;
  }

  .previewPhone {
    @apply w-[400px] overflow-hidden rounded-td-lg border border-neutral-3 bg-white;
  }

  .previewScreen {
    @apply flex flex-col;
  }

  .chatArea {
    @apply flex h-[200px] items-center justify-center;
  }

  .richmenuBar {
    @apply flex flex-col items-center border-t border-neutral-3 bg-neutral-1 p-2.5;
  }

  .chatBar {
    @apply text-sm text-neutral-11;
  }
}

/* Responsive Styles */
@media (max-width: 900px) {
  .layout {
    @apply flex-col gap-3 pt-24;
  }

  .left,
  .center,
  .right {
    @apply w-full min-w-0;
  }

  .left {
    @apply order-1;
  }

  .center {
    @apply order-2 items-stretch p-2.5;
  }

  .right {
    @apply order-3 max-h-[50vh] overflow-auto p-3;
  }

  .canvasWrap {
    @apply w-full;
  }

  .areasList .item {
    @apply flex-col;
  }

  .field input[type='text'],
  .field input[type='number'],
  .field textarea,
  .field select {
    @apply w-full;
  }
}
